<div class="form mt-5">
  <form (ngSubmit)="onSubmit(f)" #f="ngForm">
    <div 
      ngModelGroup="userData"
      #userData="ngModelGroup">
      <div class="form-group">
        <label class="form-text">Username</label>
        <input 
          id="username" 
          type="text" 
          class="form-control" 
          placeholder="Enter user name"
          ngModel
          name="username"
          required
          >
      </div>   
      <div class="btn btn-secondary" (click)="onSuggestName()">Suggest a user</div>
      <div class="form-group">
        <label for="" class="form-text">Mail</label>
        <input 
        id="email" 
        type="email" 
        class="form-control"
        placeholder="Enter email"
        ngModel
        name="email"
        required
        email
        #email="ngModel">
        <small 
          id="emailHelp" 
          class="form-text text-danger"
          *ngIf="!email.valid && email.touched">
          Please enter valid email
        </small>
      </div>
    </div>
    <div class="form-group">
      <label for="" class="form-text">Secret question</label>
      <select
        id="secret" 
        class="form-control"
        [ngModel]="'teacher'"
        name="secret">
        <option value="pet" selected>Your first pet?</option>
        <option value="teacher">Who is your teacher?</option>
      </select>
      <span 
        class="text-danger"
        *ngIf="!userData.valid && userData.touched"
        >User data is invalid</span>
    </div>
    <div class="form-group">
      <textarea 
        name="questionAnswer" 
        rows="3" 
        class="form-control"
        [(ngModel)]="answer"
        questionAnswer>

      </textarea>
      <span>Your reply: {{ answer }}</span>
    </div>
    <div class="form-group">
      <label for="" class="form-text">Gender</label>
      <div class="form-check" *ngFor="let gender of genders">
        <input 
          class="form-check-input"
          type="radio" name="gender" 
          ngModel [value]="gender"
          gender
          required>
        <label class="form-check-label" for="exampleRadios1">
          {{gender}}
        </label>
      </div>
    </div>
    <button 
      class="btn btn-primary"
      type="submit"
      [disabled]="!f.valid"
      >
      Submit
    </button>
  </form>
  <div class="row" *ngIf="formSubmitted">
    <div class="col-12">
      <p>Name: {{ user.username }}</p>
      <p>Email: {{ user.email }}</p>
      <p>Question: {{ user.secrect }}</p>
      <p>QuestionAnswer: {{ user.questionAnswer}}</p>
      <p>Gender: {{ user.gender }}</p>
    </div>
  </div>
</div>